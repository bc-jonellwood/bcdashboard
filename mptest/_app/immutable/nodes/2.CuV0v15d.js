import{a as F,t as B,c as Ke}from"../chunks/disclose-version.Dt6YuCZi.js";import{i as ie}from"../chunks/legacy.TGj7z1RG.js";import{x as N,A as ue,q as We,o as Qe,z as Ze,B as je,i as Ee,an as Ie,O as $e,P as Se,Q as fe,y as K,aj as et,as as se,R as Re,C as Ne,V as tt,v as ke,at as Pe,au as rt,am as at,av as nt,F as st,ad as ot,Y as it,aw as ge,ax as _e,a9 as lt,I as Me,ay as ze,az as ct,aA as dt,ah as ut,aB as ft,aC as vt,N as ht,aD as gt,b as _t,X as mt,p as le,m as R,s as I,n as T,t as Z,k as ce,aE as Oe,aF as Fe,j as W,g as h,aG as wt,aH as z,K as P,e as yt,a8 as pt,aI as ve,aJ as At,aq as bt}from"../chunks/runtime.81itCKzL.js";import{a as St,l as kt,b as Pt,w as Mt,e as Q,s as U}from"../chunks/render.yrP3vjwa.js";import{p as y,b as xt,i as ne}from"../chunks/props.0Cu2CR9m.js";import{c as Ct,o as Le}from"../chunks/index-client.hhUygu-f.js";function He(t,e){return e}function qt(t,e,r,a){for(var n=[],s=e.length,i=0;i<s;i++)rt(e[i].e,n,!0);var m=s>0&&n.length===0&&r!==null;if(m){var v=r.parentNode;at(v),v.append(r),a.clear(),V(t,e[0].prev,e[s-1].next)}nt(n,()=>{for(var g=0;g<s;g++){var l=e[g];m||(a.delete(l.k),V(t,l.prev,l.next)),st(l.e,!m)}})}function Ve(t,e,r,a,n,s=null){var i=t,m={flags:e,items:new Map,first:null},v=(e&ze)!==0;if(v){var g=t;i=N?ue(We(g)):g.appendChild(Qe())}N&&Ze();var l=null,d=!1;je(()=>{var w=r(),o=Ee(w)?w:w==null?[]:Ie(w),u=o.length;if(d&&u===0)return;d=u===0;let f=!1;if(N){var b=i.data===$e;b!==(u===0)&&(i=Se(),ue(i),fe(!1),f=!0)}if(N){for(var A=null,S,M=0;M<u;M++){if(K.nodeType===8&&K.data===et){i=K,f=!0,fe(!1);break}var E=o[M],_=a(E,M);S=Be(K,m,A,null,E,_,M,n,e),m.items.set(_,S),A=S}u>0&&ue(Se())}if(!N){var c=ot;Dt(o,m,i,n,e,(c.f&se)!==0,a)}s!==null&&(u===0?l?Re(l):l=Ne(()=>s(i)):l!==null&&tt(l,()=>{l=null})),f&&fe(!0),r()}),N&&(i=K)}function Dt(t,e,r,a,n,s,i,m){var ee,te,re,X;var v=(n&ct)!==0,g=(n&(ge|_e))!==0,l=t.length,d=e.items,w=e.first,o=w,u,f=null,b,A=[],S=[],M,E,_,c;if(v)for(c=0;c<l;c+=1)M=t[c],E=i(M,c),_=d.get(E),_!==void 0&&((ee=_.a)==null||ee.measure(),(b??(b=new Set)).add(_));for(c=0;c<l;c+=1){if(M=t[c],E=i(M,c),_=d.get(E),_===void 0){var p=o?o.e.nodes_start:r;f=Be(p,e,f,f===null?e.first:f.next,M,E,c,a,n),d.set(E,f),A=[],S=[],o=f.next;continue}if(g&&Tt(_,M,c,n),_.e.f&se&&(Re(_.e),v&&((te=_.a)==null||te.unfix(),(b??(b=new Set)).delete(_))),_!==o){if(u!==void 0&&u.has(_)){if(A.length<S.length){var x=S[0],C;f=x.prev;var L=A[0],O=A[A.length-1];for(C=0;C<A.length;C+=1)xe(A[C],x,r);for(C=0;C<S.length;C+=1)u.delete(S[C]);V(e,L.prev,O.next),V(e,f,L),V(e,O,x),o=x,f=O,c-=1,A=[],S=[]}else u.delete(_),xe(_,o,r),V(e,_.prev,_.next),V(e,_,f===null?e.first:f.next),V(e,f,_),f=_;continue}for(A=[],S=[];o!==null&&o.k!==E;)(s||!(o.e.f&se))&&(u??(u=new Set)).add(o),S.push(o),o=o.next;if(o===null)continue;_=o}A.push(_),f=_,o=_.next}if(o!==null||u!==void 0){for(var q=u===void 0?[]:Ie(u);o!==null;)(s||!(o.e.f&se))&&q.push(o),o=o.next;var J=q.length;if(J>0){var $=n&ze&&l===0?r:null;if(v){for(c=0;c<J;c+=1)(re=q[c].a)==null||re.measure();for(c=0;c<J;c+=1)(X=q[c].a)==null||X.fix()}qt(e,q,$,d)}}v&&it(()=>{var ae;if(b!==void 0)for(_ of b)(ae=_.a)==null||ae.apply()}),ke.first=e.first&&e.first.e,ke.last=f&&f.e}function Tt(t,e,r,a){a&ge&&Pe(t.v,e),a&_e?Pe(t.i,r):t.i=r}function Be(t,e,r,a,n,s,i,m,v,g){var l=(v&ge)!==0,d=(v&dt)===0,w=l?d?lt(n):Me(n):n,o=v&_e?Me(i):i,u={i:o,v:w,k:s,a:null,e:null,prev:r,next:a};try{return u.e=Ne(()=>m(t,w,o),N),u.e.prev=r&&r.e,u.e.next=a&&a.e,r===null?e.first=u:(r.next=u,r.e.next=u.e),a!==null&&(a.prev=u,a.e.prev=u.e),u}finally{}}function xe(t,e,r){for(var a=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,s=t.e.nodes_start;s!==a;){var i=ut(s);n.before(s),s=i}}function V(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Et(t){if(N){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var a=t.value;j(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var n=t.checked;j(t,"checked",null),t.checked=n}}};t.__on_r=r,ft(r),St()}}function j(t,e,r,a){var n=t.__attributes??(t.__attributes={});N&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[vt]=r),r==null?t.removeAttribute(e):typeof r!="string"&&It(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var Ce=new Map;function It(t){var e=Ce.get(t.nodeName);if(e)return e;Ce.set(t.nodeName,e=[]);for(var r,a=t,n=Element.prototype;n!==a;){r=gt(a);for(var s in r)r[s].set&&e.push(s);a=ht(a)}return e}function Rt(t,e,r=e){kt(t,"change",a=>{var n=a?t.defaultChecked:t.checked;r(n)}),(N&&t.defaultChecked!==t.checked||_t(e)==null)&&r(t.checked),mt(()=>{var a=e();t.checked=!!a})}function qe(t,e){Pt(window,["resize"],()=>Mt(()=>e(window[t])))}function Nt(t,e){var s;var r=(s=t.$$events)==null?void 0:s[e.type],a=Ee(r)?r.slice():r==null?[]:[r];for(var n of a)n.call(this,e)}var zt=B('<label class="svelte-1pghddc"><input type="checkbox" class="svelte-1pghddc"> <span class="svelte-1pghddc"> </span></label>');function Ot(t,e){le(e,!1);let r=y(e,"choice",8),a=y(e,"isSelected",12),n=y(e,"onselect",8);function s(){n()(r(),!a())}function i(d){d.key==="Enter"&&n()(r(),!a())}ie();var m=zt(),v=R(m);Et(v);var g=I(v,2),l=R(g,!0);T(g),T(m),Z(()=>U(l,r())),Rt(v,a),Q("click",v,s),Q("keydown",v,i),F(t,m),ce()}var Ft=B('<div class="question svelte-1b4m7pf"><p class="qNum svelte-1b4m7pf"> </p> <p class="gradient-border svelte-1b4m7pf"> </p> <!></div> <div class="correct-answer hidden svelte-1b4m7pf">X</div> <div class="wrong-answer hidden svelte-1b4m7pf">X</div>',1);function Lt(t,e){le(e,!1);const r=z();let a=y(e,"question",8),n=y(e,"choices",8);y(e,"correctAnswer",8);let s=y(e,"index",8),i=y(e,"selectedAnswer",8),m=y(e,"onselectAnswer",8);function v(b){m()(new CustomEvent("selectAnswer",{detail:b}))}Oe(()=>yt(n()),()=>{P(r,[...n()].sort(()=>Math.random()-.5))}),Fe(),ie();var g=Ft(),l=W(g),d=R(l),w=R(d,!0);T(d);var o=I(d,2),u=R(o,!0);T(o);var f=I(o,2);Ve(f,1,()=>h(r),He,(b,A)=>{var S=pt(()=>i()===h(A));Ot(b,{get choice(){return h(A)},get isSelected(){return h(S)},onselect:v})}),T(l),wt(4),Z(()=>{j(l,"id",s()),U(w,s()+1),U(u,a())}),F(t,g),ce()}const G=[{index:0,question:"All mechanical problems, physical damage and all appearance issues must be reported to _________ and properly noted on the Travel Log Form",choices:["Maintenance Garage","Fleet Mgmt Director","Risk Management"],correctAnswer:"Fleet Mgmt Director",manualSection:"4.14.1"},{index:1,question:"Anytime a Motor Pool Vehicle becomes unsafe to operate, the first and most important thing to remember is:",choices:["Notify Maintenance Garage","Notify Motor Pool Clerk","Get off the road and out of traffic"],correctAnswer:"Get off the road and out of traffic",manualSection:"5.4.1"},{index:2,question:"Discipline of the employee for misuse of a Motor Pool vehicle is the responsibility of the:",choices:["Employee’s department, office or agency head","Risk Management","Human Resources Department"],correctAnswer:"Employee’s department, office or agency head",manualSection:"4.20.2"},{index:3,question:"Prior to all trips a mandatory Exterior/Interior Vehicle Inspection must be performed by:",choices:["Driver","Maintenance Garage","Motor Pool Clerk"],correctAnswer:"Driver",manualSection:"4.12.1"},{index:4,question:"The Accident Reporting Guidelines are established by__________.",choices:["Purchasing","Risk Management","Motor Pool Clerk"],correctAnswer:"Risk Management",manualSection:"4.13.1"},{index:5,question:"Before returning the Motor Pool Vehicle the driver must:",choices:["Refuel vehicle","Remove trash and personal belongings","All answers are correct"],correctAnswer:"All answers are correct",manualSection:"4.17"},{index:6,question:"If the vehicle you are using was not parked in the parking area when you picked it, you do not need to return it to the designated parking area.",choices:["True","False"],correctAnswer:"False",manualSection:"4.15.3"},{index:7,question:"Motor Pool Vehicles must be reserved at least ___ hours in advance of requested date and time, or as soon as anticipated.",choices:["24","48","36"],correctAnswer:"24",manualSection:"5.1.1"},{index:8,question:"The Requestor shall provide the following information when requesting a reservation:",choices:["Trip Date & Time/Drivers Name","Vehicle Type/Destination","All answers are correct"],correctAnswer:"All answers are correct",manualSection:"5.1.4"},{index:9,question:"________ is responsible for ensuring that user (s) is informed of and knowledgeable of all Motor Pool Policies and Procedures.",choices:["Risk Management","Purchasing","Department Director"],correctAnswer:"Department Director",manualSection:"6.3.1"},{index:10,question:"Motor Pool users must:",choices:["Comply with all Policies and Procedures of the Motor Pool Program","Sign the Acknowledgement of Responsibility for Motor Pool Operations","Provide copy of valid driver’s license","All answers are correct"],correctAnswer:"All answers are correct",manualSection:"6.4"},{index:11,question:"If a driver has a breakdown between 7am- 3pm, Mon-Fri, you are to contact the Maintenance Garage Manager. You are also requested to notify________.",choices:["Director of Purchasing","Motor Pool Clerk","Immediate Supervisor"],correctAnswer:"Immediate Supervisor",manualSection:"5.4.2"},{index:12,question:"Motor Pool Vehicles are for quick “turn-over” trips. Therefore, if you need a vehicle for more than five days, please contact:",choices:["Purchasing Director","Department Head","Deputy County Supervisor"],correctAnswer:"Deputy County Supervisor",manualSection:"4.1.3"},{index:13,question:"If a returning driver is unable to park in the designated parking area, he/she is to report this to _____ and state where the vehicle is parked.",choices:["His/Her Immediate Supervisor","Fleet Management Director","Maintenance Supervisor"],correctAnswer:"Fleet Management Director",manualSection:"4.15.3"},{index:14,question:"A Personal Vehicle may be used when a Motor Pool vehicle is not available.",choices:["True","False"],correctAnswer:"True",manualSection:"7.1"},{index:15,question:"Driver and all passengers of County Motor Pool Vehicles are required to wear seat belts at all times when vehicle is being operated.",choices:["True","False"],correctAnswer:"True",manualSection:"4.8.1"},{index:16,question:"When operating a Motor Pool vehicle, any traffic citations are the responsibility of:",choices:["The Driver","County Supervior","County Cars can not be ticketed"],correctAnswer:"The Driver",manualSection:"4.18.1"},{index:17,question:"Driver/Passenger(s) are not permitted to smoke in the County Motor Pool Vehicle.",choices:["True","False"],correctAnswer:"True",manualSection:"4.9.1"},{index:18,question:"If your plans change and you no longer need a vehicle you have reserved you should:",choices:["Cancel your reservation 24 hours in advance","Do nothing, the reservation will expire on its own","Post on the County Facebook page your new plans"],correctAnswer:"Cancel your reservation 24 hours in advance",manualSection:"4.6.1"},{index:19,question:"Motor Pool Vehicles are for official County use only",choices:["True","False"],correctAnswer:"True",manualSection:"4.3.5"}],he=Math.PI/180,De=2,Te=1,oe=20,Ht=["hotpink","gold","dodgerblue","tomato","rebeccapurple","lightgreen","turquoise"],k=(t,e=0)=>Math.random()*(t-e)+e,Vt=(t,e,r,a,n,s,i)=>{let m,v,g,l,d,w,o,u=s[Math.floor(k(s.length))],f=k(90,-90);e?(v=e[0],g=e[1],l=k(r,5),d=k(r,5),m=k(a+n/2,a-n/2)*he,f*=2):(v=k(t.canvas.width),g=k(-oe),l=k(5),d=k(5,1),m=k(180)*he),w=Math.cos(m),o=Math.sin(m);let b={dead:!1,life:0,delay:0,x:v,y:g,angle:k(360),da:f,dx:w*l,dy:o*d,w:k(18,10),h:k(6,4),gx:0,gy:k(4.5,2),xw:k(6,1),style:u};return i&&(b=i(b)),b},Bt=(t,e)=>{e.dead||e.life<e.delay||(t.save(),t.translate(e.x,e.y),t.rotate(e.angle*he),e.style instanceof HTMLImageElement?t.drawImage(e.style,-e.style.width/2,-e.style.height/2):(t.fillStyle=e.style,t.beginPath(),t.rect(e.w*-.5,e.h*-.5,e.w,e.h),t.fill()),t.restore())},Gt=(t,e)=>{t.life+=e,!(t.dead||t.life<t.delay)&&(t.angle+=t.da*e*De,t.dy+=t.gy*e*De,t.dx+=k(4,2)*Math.sin(t.life*t.xw)*e,t.dx*=.98,t.dy*=.98,t.x+=t.dx*Te,t.y+=t.dy*Te)},Yt=(t,e)=>e.x<-oe||e.x>t.canvas.width+oe||e.y>t.canvas.height+oe,Ut=(t,e)=>{t.clearRect(0,0,t.canvas.width,t.canvas.height);for(let r=0;r<e.length;++r)Bt(t,e[r])},Jt=(t,e,r,a)=>{let n=e.length;for(let s=0;s<e.length;++s){const i=e[s];i.dead?n--:(Gt(i,r),Yt(t,i)&&(i.dead=!0),a&&a(i,r))}return n>0},Xt=(t,e,r,a,n,s,i,m,v,g)=>{const l=t.getContext("2d");if(!l)throw new Error("No context?");const d=Array.from({length:r},()=>Vt(l,a,n,s,i,m,v));let w,o;const u=f=>{Ut(l,d),Jt(l,d,(f-o)/1e3,g)?(o=f,w=requestAnimationFrame(u)):e()};return o=performance.now(),w=requestAnimationFrame(u),()=>{cancelAnimationFrame(w)}};var Kt=B('<canvas class="svelte-1efe31a"></canvas>');function Wt(t,e){le(e,!1);let r=y(e,"styles",8,Ht),a=y(e,"particleCount",8,50),n=y(e,"origin",8,void 0),s=y(e,"force",8,15),i=y(e,"angle",8,0),m=y(e,"spread",8,360),v=y(e,"onCreate",8,void 0),g=y(e,"onUpdate",8,void 0);const l=Ct();let d=z(),w=z(),o=z();Le(()=>(ve(d,h(d).width=h(w)),ve(d,h(d).height=h(o)),Xt(h(d),()=>l("completed"),a(),n(),s(),i(),m(),r(),v(),g()))),ie();var u=Kt();xt(u,f=>P(d,f),()=>h(d)),Z(()=>{j(u,"width",h(w)),j(u,"height",h(o))}),qe("innerWidth",f=>P(w,f)),qe("innerHeight",f=>P(o,f)),F(t,u),ce()}function Qt(t,e){let r=y(e,"origin",8),a=y(e,"styles",8,void 0),n=y(e,"particleCount",8,50),s=y(e,"force",8,15),i=y(e,"angle",24,()=>-90),m=y(e,"spread",8,360),v=y(e,"onCreate",8,void 0),g=y(e,"onUpdate",8,void 0);Wt(t,{get particleCount(){return n()},get origin(){return r()},get force(){return s()},get spread(){return m()},get angle(){return i()},get styles(){return a()},get onCreate(){return v()},get onUpdate(){return g()},$$events:{completed(l){Nt.call(this,e,l)}}})}var Zt=B('<div class="body svelte-10lw60z"><div class="mute svelte-10lw60z"><h2 class="svelte-10lw60z">Motor Pool Test</h2> <p class="svelte-10lw60z">You have already taken the test today. Please try again tomorrow.</p></div></div>'),jt=B('<!> <p class="answer svelte-10lw60z"> </p>',1),$t=B('<button class="svelte-10lw60z">Submit</button> <button class="svelte-10lw60z">Reset</button>',1),er=B('<p class="svelte-10lw60z">Your score has been submitted. You may close this window now.</p>'),tr=B('<div class="body svelte-10lw60z"><div class="mute svelte-10lw60z"><h2 class="svelte-10lw60z">Motor Pool Test</h2> <div class="questions svelte-10lw60z"></div> <div class="buttons svelte-10lw60z"><!> <!> <!></div> <p class="score svelte-10lw60z"> </p></div></div> <div class="messagePopover svelte-10lw60z" name="messagePopover" id="messagePopover" popover="manual"> <div class="arrow svelte-10lw60z"><button popovertarget="messagePopover" popovertargetaction="hide" class="svelte-10lw60z">Close</button></div></div>',1);function lr(t,e){le(e,!1);const r=async()=>{P(a,!1),await bt(),P(a,!0)};let a=z(!1),n=z(new Array(G.length).fill(null)),s=z(0),i=G.length,m=i*.8,v=z(!1),g=null,l=[],d=z(""),w=z();function o(){g=A(),fetch("/API/checkMPTestEligibility.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:g})}).then(p=>p.json()).then(p=>{p.eligible?(console.log("Eligible"),P(w,!0)):(console.log("Not eligible"),P(w,!1))})}Le(()=>{o()});function u(){g=A(),fetch("/API/submitMPTestFail.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:g})})}function f(){P(s,0);for(let p=0;p<h(n).length;p++){let x=h(n)[p],C=G[p].correctAnswer,L=G[p].index,O=G[p].manualSection,q=document.getElementById(L);x===C?(q.classList.add("correct-answer"),q.classList.remove("wrong-answer"),At(s)):(l.push({manualSection:O}),q.classList.remove("correct-answer"),q.classList.add("wrong-answer"))}if(h(s)>=m&&(r(),P(v,!0)),h(s)<m){u();var c=document.getElementById("messagePopover");P(d,h(d)+"You did not pass the test. Please try again after studying manual sections:");for(let p=0;p<l.length;p++)P(d,h(d)+(`
`+l[p].manualSection+","));return c.setAttribute("data-content",h(d)),c.showPopover(),h(d)}}function b(){document.querySelectorAll("div.wrong-answer").forEach(x=>{x.classList.remove("wrong-answer")}),P(n,new Array(G.length).fill(null)),P(s,0),document.querySelectorAll("div.correct-answer").forEach(x=>{x.classList.remove("correct-answer")}),P(d,"")}function A(){let c=JSON.parse(localStorage.getItem("bcdash-userData"));if(c)return console.log(c),g=c.id,g;console.error("User data not found or invalid")}Oe(()=>h(s),()=>{h(s)}),Fe(),ie();var S=Ke(),M=W(S);{var E=c=>{var p=Zt();F(c,p)},_=c=>{var p=tr(),x=W(p),C=R(x),L=I(R(C),2);Ve(L,5,()=>G,He,(D,H,Y)=>{let de=()=>h(H).question,Ye=()=>h(H).choices,Ue=()=>h(H).correctAnswer;var pe=jt(),Ae=W(pe);Lt(Ae,{get question(){return de()},get choices(){return Ye()},index:Y,get selectedAnswer(){return h(n)[Y]},onselectAnswer:Xe=>ve(n,h(n)[Y]=Xe.detail)});var be=I(Ae,2),Je=R(be);T(be),Z(()=>U(Je,`Answer: ${Ue()??""}`)),F(D,pe)}),T(L);var O=I(L,2),q=R(O);{var J=D=>{var H=$t(),Y=W(H),de=I(Y,2);Q("click",Y,f),Q("click",de,b),F(D,H)};ne(q,D=>{h(v)||D(J)})}var $=I(q,2);{var ee=D=>{var H=er();F(D,H)};ne($,D=>{h(v)&&D(ee)})}var te=I($,2);{var re=D=>{Qt(D,{origin:[window.innerWidth/2,window.innerHeight],angle:-90,spread:35,force:35})};ne(te,D=>{h(a)&&D(re)})}T(O);var X=I(O,2),ae=R(X);T(X),T(C),T(x);var me=I(x,2),we=R(me),ye=I(we),Ge=R(ye);T(ye),T(me),Z(()=>{U(ae,`Score: ${h(s)??""} of ${i??""}`),U(we,`${h(d)??""} `)}),Q("click",Ge,b),F(c,p)};ne(M,c=>{h(w)?c(_,!1):c(E)})}F(t,S),ce()}export{lr as component};
