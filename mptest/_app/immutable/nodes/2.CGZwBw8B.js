import{a as V,t as B}from"../chunks/disclose-version.Dt6YuCZi.js";import{i as oe}from"../chunks/legacy.TGj7z1RG.js";import{o as Be,B as Ge,x as R,A as ue,z as Ye,i as qe,an as De,O as Ue,P as pe,Q as fe,y as W,as as re,R as Te,C as Ee,V as Je,v as Ae,at as be,au as Xe,am as Ke,av as We,F as Qe,q as Ze,aj as je,ad as $e,Y as et,aw as _e,ax as me,a9 as tt,I as Se,ay as Ie,az as rt,aA as at,ah as nt,aB as ot,aC as st,N as it,aD as lt,b as ct,X as dt,p as se,m as E,s as T,n as q,t as Z,k as ie,aE as Re,aF as Ne,j as ae,g,aG as ut,aH as N,e as ft,a8 as vt,K as C,aI as he,aJ as ht,aq as gt}from"../chunks/runtime.81itCKzL.js";import{a as _t,l as mt,b as wt,w as yt,e as Q,s as G}from"../chunks/render.yrP3vjwa.js";import{p,b as pt,i as ve}from"../chunks/props.0Cu2CR9m.js";import{c as At,o as Oe}from"../chunks/index-client.hhUygu-f.js";function Fe(t,e){return e}function bt(t,e,r,a){for(var n=[],o=e.length,i=0;i<o;i++)Xe(e[i].e,n,!0);var _=o>0&&n.length===0&&r!==null;if(_){var f=r.parentNode;Ke(f),f.append(r),a.clear(),F(t,e[0].prev,e[o-1].next)}We(n,()=>{for(var h=0;h<o;h++){var l=e[h];_||(a.delete(l.k),F(t,l.prev,l.next)),Qe(l.e,!_)}})}function ze(t,e,r,a,n,o=null){var i=t,_={flags:e,items:new Map,first:null},f=(e&Ie)!==0;if(f){var h=t;i=R?ue(Ze(h)):h.appendChild(Be())}R&&Ye();var l=null,c=!1;Ge(()=>{var A=r(),s=qe(A)?A:A==null?[]:De(A),d=s.length;if(c&&d===0)return;c=d===0;let u=!1;if(R){var S=i.data===Ue;S!==(d===0)&&(i=pe(),ue(i),fe(!1),u=!0)}if(R){for(var b=null,k,P=0;P<d;P++){if(W.nodeType===8&&W.data===je){i=W,u=!0,fe(!1);break}var x=s[P],v=a(x,P);k=Le(W,_,b,null,x,v,P,n,e),_.items.set(v,k),b=k}d>0&&ue(pe())}if(!R){var w=$e;St(s,_,i,n,e,(w.f&re)!==0,a)}o!==null&&(d===0?l?Te(l):l=Ee(()=>o(i)):l!==null&&Je(l,()=>{l=null})),u&&fe(!0),r()}),R&&(i=W)}function St(t,e,r,a,n,o,i,_){var J,X,te,y;var f=(n&rt)!==0,h=(n&(_e|me))!==0,l=t.length,c=e.items,A=e.first,s=A,d,u=null,S,b=[],k=[],P,x,v,w;if(f)for(w=0;w<l;w+=1)P=t[w],x=i(P,w),v=c.get(x),v!==void 0&&((J=v.a)==null||J.measure(),(S??(S=new Set)).add(v));for(w=0;w<l;w+=1){if(P=t[w],x=i(P,w),v=c.get(x),v===void 0){var le=s?s.e.nodes_start:r;u=Le(le,e,u,u===null?e.first:u.next,P,x,w,a,n),c.set(x,u),b=[],k=[],s=u.next;continue}if(h&&kt(v,P,w,n),v.e.f&re&&(Te(v.e),f&&((X=v.a)==null||X.unfix(),(S??(S=new Set)).delete(v))),v!==s){if(d!==void 0&&d.has(v)){if(b.length<k.length){var z=k[0],I;u=z.prev;var $=b[0],Y=b[b.length-1];for(I=0;I<b.length;I+=1)ke(b[I],z,r);for(I=0;I<k.length;I+=1)d.delete(k[I]);F(e,$.prev,Y.next),F(e,u,$),F(e,Y,z),s=z,u=Y,w-=1,b=[],k=[]}else d.delete(v),ke(v,s,r),F(e,v.prev,v.next),F(e,v,u===null?e.first:u.next),F(e,u,v),u=v;continue}for(b=[],k=[];s!==null&&s.k!==x;)(o||!(s.e.f&re))&&(d??(d=new Set)).add(s),k.push(s),s=s.next;if(s===null)continue;v=s}b.push(v),u=v,s=v.next}if(s!==null||d!==void 0){for(var O=d===void 0?[]:De(d);s!==null;)(o||!(s.e.f&re))&&O.push(s),s=s.next;var U=O.length;if(U>0){var ee=n&Ie&&l===0?r:null;if(f){for(w=0;w<U;w+=1)(te=O[w].a)==null||te.measure();for(w=0;w<U;w+=1)(y=O[w].a)==null||y.fix()}bt(e,O,ee,c)}}f&&et(()=>{var m;if(S!==void 0)for(v of S)(m=v.a)==null||m.apply()}),Ae.first=e.first&&e.first.e,Ae.last=u&&u.e}function kt(t,e,r,a){a&_e&&be(t.v,e),a&me?be(t.i,r):t.i=r}function Le(t,e,r,a,n,o,i,_,f,h){var l=(f&_e)!==0,c=(f&at)===0,A=l?c?tt(n):Se(n):n,s=f&me?Se(i):i,d={i:s,v:A,k:o,a:null,e:null,prev:r,next:a};try{return d.e=Ee(()=>_(t,A,s),R),d.e.prev=r&&r.e,d.e.next=a&&a.e,r===null?e.first=d:(r.next=d,r.e.next=d.e),a!==null&&(a.prev=d,a.e.prev=d.e),d}finally{}}function ke(t,e,r){for(var a=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==a;){var i=nt(o);n.before(o),o=i}}function F(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Mt(t){if(R){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var a=t.value;j(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var n=t.checked;j(t,"checked",null),t.checked=n}}};t.__on_r=r,ot(r),_t()}}function j(t,e,r,a){var n=t.__attributes??(t.__attributes={});R&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[st]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Pt(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var Me=new Map;function Pt(t){var e=Me.get(t.nodeName);if(e)return e;Me.set(t.nodeName,e=[]);for(var r,a=t,n=Element.prototype;n!==a;){r=lt(a);for(var o in r)r[o].set&&e.push(o);a=it(a)}return e}function xt(t,e,r=e){mt(t,"change",a=>{var n=a?t.defaultChecked:t.checked;r(n)}),(R&&t.defaultChecked!==t.checked||ct(e)==null)&&r(t.checked),dt(()=>{var a=e();t.checked=!!a})}function Pe(t,e){wt(window,["resize"],()=>yt(()=>e(window[t])))}function Ct(t,e){var o;var r=(o=t.$$events)==null?void 0:o[e.type],a=qe(r)?r.slice():r==null?[]:[r];for(var n of a)n.call(this,e)}var qt=B('<label class="svelte-1pghddc"><input type="checkbox" class="svelte-1pghddc"> <span class="svelte-1pghddc"> </span></label>');function Dt(t,e){se(e,!1);let r=p(e,"choice",8),a=p(e,"isSelected",12),n=p(e,"onselect",8);function o(){n()(r(),!a())}function i(c){c.key==="Enter"&&n()(r(),!a())}oe();var _=qt(),f=E(_);Mt(f);var h=T(f,2),l=E(h,!0);q(h),q(_),Z(()=>G(l,r())),xt(f,a),Q("click",f,o),Q("keydown",f,i),V(t,_),ie()}var Tt=B('<div class="question svelte-1b4m7pf"><p class="qNum svelte-1b4m7pf"> </p> <p class="gradient-border svelte-1b4m7pf"> </p> <!></div> <div class="correct-answer hidden svelte-1b4m7pf">X</div> <div class="wrong-answer hidden svelte-1b4m7pf">X</div>',1);function Et(t,e){se(e,!1);const r=N();let a=p(e,"question",8),n=p(e,"choices",8);p(e,"correctAnswer",8);let o=p(e,"index",8),i=p(e,"selectedAnswer",8),_=p(e,"onselectAnswer",8);function f(S){_()(new CustomEvent("selectAnswer",{detail:S}))}Re(()=>ft(n()),()=>{C(r,[...n()].sort(()=>Math.random()-.5))}),Ne(),oe();var h=Tt(),l=ae(h),c=E(l),A=E(c,!0);q(c);var s=T(c,2),d=E(s,!0);q(s);var u=T(s,2);ze(u,1,()=>g(r),Fe,(S,b)=>{var k=vt(()=>i()===g(b));Dt(S,{get choice(){return g(b)},get isSelected(){return g(k)},onselect:f})}),q(l),ut(4),Z(()=>{j(l,"id",o()),G(A,o()+1),G(d,a())}),V(t,h),ie()}const H=[{index:0,question:"All mechanical problems, physical damage and all appearance issues must be reported to _________ and properly noted on the Travel Log Form",choices:["Maintenance Garage","Fleet Mgmt Director","Risk Management"],correctAnswer:"Fleet Mgmt Director",manualSection:"4.14.1"},{index:1,question:"Anytime a Motor Pool Vehicle becomes unsafe to operate, the first and most important thing to remember is:",choices:["Notify Maintenance Garage","Notify Motor Pool Clerk","Get off the road and out of traffic"],correctAnswer:"Get off the road and out of traffic",manualSection:"5.4.1"},{index:2,question:"Discipline of the employee for misuse of a Motor Pool vehicle is the responsibility of the:",choices:["Employee’s department, office or agency head","Risk Management","Human Resources Department"],correctAnswer:"Employee’s department, office or agency head",manualSection:"4.20.2"},{index:3,question:"Prior to all trips a mandatory Exterior/Interior Vehicle Inspection must be performed by:",choices:["Driver","Maintenance Garage","Motor Pool Clerk"],correctAnswer:"Driver",manualSection:"4.12.1"},{index:4,question:"The Accident Reporting Guidelines are established by__________.",choices:["Purchasing","Risk Management","Motor Pool Clerk"],correctAnswer:"Risk Management",manualSection:"4.13.1"},{index:5,question:"Before returning the Motor Pool Vehicle the driver must:",choices:["Refuel vehicle","Remove trash and personal belongings","All answers are correct"],correctAnswer:"All answers are correct",manualSection:"4.17"},{index:6,question:"If the vehicle you are using was not parked in the parking area when you picked it, you do not need to return it to the designated parking area.",choices:["True","False"],correctAnswer:"False",manualSection:"4.15.3"},{index:7,question:"Motor Pool Vehicles must be reserved at least ___ hours in advance of requested date and time, or as soon as anticipated.",choices:["24","48","36"],correctAnswer:"24",manualSection:"5.1.1"},{index:8,question:"The Requestor shall provide the following information when requesting a reservation:",choices:["Trip Date & Time/Drivers Name","Vehicle Type/Destination","All answers are correct"],correctAnswer:"All answers are correct",manualSection:"5.1.4"},{index:9,question:"________ is responsible for ensuring that user (s) is informed of and knowledgeable of all Motor Pool Policies and Procedures.",choices:["Risk Management","Purchasing","Department Director"],correctAnswer:"Department Director",manualSection:"6.3.1"},{index:10,question:"Motor Pool users must:",choices:["Comply with all Policies and Procedures of the Motor Pool Program","Sign the Acknowledgement of Responsibility for Motor Pool Operations","Provide copy of valid driver’s license","All answers are correct"],correctAnswer:"All answers are correct",manualSection:"6.4"},{index:11,question:"If a driver has a breakdown between 7am- 3pm, Mon-Fri, you are to contact the Maintenance Garage Manager. You are also requested to notify________.",choices:["Director of Purchasing","Motor Pool Clerk","Immediate Supervisor"],correctAnswer:"Immediate Supervisor",manualSection:"5.4.2"},{index:12,question:"Motor Pool Vehicles are for quick “turn-over” trips. Therefore, if you need a vehicle for more than five days, please contact:",choices:["Purchasing Director","Department Head","Deputy County Supervisor"],correctAnswer:"Deputy County Supervisor",manualSection:"4.1.3"},{index:13,question:"If a returning driver is unable to park in the designated parking area, he/she is to report this to _____ and state where the vehicle is parked.",choices:["His/Her Immediate Supervisor","Fleet Management Director","Maintenance Supervisor"],correctAnswer:"Fleet Management Director",manualSection:"4.15.3"},{index:14,question:"A Personal Vehicle may be used when a Motor Pool vehicle is not available.",choices:["True","False"],correctAnswer:"True",manualSection:"7.1"},{index:15,question:"Driver and all passengers of County Motor Pool Vehicles are required to wear seat belts at all times when vehicle is being operated.",choices:["True","False"],correctAnswer:"True",manualSection:"4.8.1"},{index:16,question:"When operating a Motor Pool vehicle, any traffic citations are the responsibility of:",choices:["The Driver","County Supervior","County Cars can not be ticketed"],correctAnswer:"The Driver",manualSection:"4.18.1"},{index:17,question:"Driver/Passenger(s) are not permitted to smoke in the County Motor Pool Vehicle.",choices:["True","False"],correctAnswer:"True",manualSection:"4.9.1"},{index:18,question:"If your plans change and you no longer need a vehicle you have reserved you should:",choices:["Cancel your reservation 24 hours in advance","Do nothing, the reservation will expire on its own","Post on the County Facebook page your new plans"],correctAnswer:"Cancel your reservation 24 hours in advance",manualSection:"4.6.1"},{index:19,question:"Motor Pool Vehicles are for official County use only",choices:["True","False"],correctAnswer:"True",manualSection:"4.3.5"}],ge=Math.PI/180,xe=2,Ce=1,ne=20,It=["hotpink","gold","dodgerblue","tomato","rebeccapurple","lightgreen","turquoise"],M=(t,e=0)=>Math.random()*(t-e)+e,Rt=(t,e,r,a,n,o,i)=>{let _,f,h,l,c,A,s,d=o[Math.floor(M(o.length))],u=M(90,-90);e?(f=e[0],h=e[1],l=M(r,5),c=M(r,5),_=M(a+n/2,a-n/2)*ge,u*=2):(f=M(t.canvas.width),h=M(-ne),l=M(5),c=M(5,1),_=M(180)*ge),A=Math.cos(_),s=Math.sin(_);let S={dead:!1,life:0,delay:0,x:f,y:h,angle:M(360),da:u,dx:A*l,dy:s*c,w:M(18,10),h:M(6,4),gx:0,gy:M(4.5,2),xw:M(6,1),style:d};return i&&(S=i(S)),S},Nt=(t,e)=>{e.dead||e.life<e.delay||(t.save(),t.translate(e.x,e.y),t.rotate(e.angle*ge),e.style instanceof HTMLImageElement?t.drawImage(e.style,-e.style.width/2,-e.style.height/2):(t.fillStyle=e.style,t.beginPath(),t.rect(e.w*-.5,e.h*-.5,e.w,e.h),t.fill()),t.restore())},Ot=(t,e)=>{t.life+=e,!(t.dead||t.life<t.delay)&&(t.angle+=t.da*e*xe,t.dy+=t.gy*e*xe,t.dx+=M(4,2)*Math.sin(t.life*t.xw)*e,t.dx*=.98,t.dy*=.98,t.x+=t.dx*Ce,t.y+=t.dy*Ce)},Ft=(t,e)=>e.x<-ne||e.x>t.canvas.width+ne||e.y>t.canvas.height+ne,zt=(t,e)=>{t.clearRect(0,0,t.canvas.width,t.canvas.height);for(let r=0;r<e.length;++r)Nt(t,e[r])},Lt=(t,e,r,a)=>{let n=e.length;for(let o=0;o<e.length;++o){const i=e[o];i.dead?n--:(Ot(i,r),Ft(t,i)&&(i.dead=!0),a&&a(i,r))}return n>0},Ht=(t,e,r,a,n,o,i,_,f,h)=>{const l=t.getContext("2d");if(!l)throw new Error("No context?");const c=Array.from({length:r},()=>Rt(l,a,n,o,i,_,f));let A,s;const d=u=>{zt(l,c),Lt(l,c,(u-s)/1e3,h)?(s=u,A=requestAnimationFrame(d)):e()};return s=performance.now(),A=requestAnimationFrame(d),()=>{cancelAnimationFrame(A)}};var Vt=B('<canvas class="svelte-1efe31a"></canvas>');function Bt(t,e){se(e,!1);let r=p(e,"styles",8,It),a=p(e,"particleCount",8,50),n=p(e,"origin",8,void 0),o=p(e,"force",8,15),i=p(e,"angle",8,0),_=p(e,"spread",8,360),f=p(e,"onCreate",8,void 0),h=p(e,"onUpdate",8,void 0);const l=At();let c=N(),A=N(),s=N();Oe(()=>(he(c,g(c).width=g(A)),he(c,g(c).height=g(s)),Ht(g(c),()=>l("completed"),a(),n(),o(),i(),_(),r(),f(),h()))),oe();var d=Vt();pt(d,u=>C(c,u),()=>g(c)),Z(()=>{j(d,"width",g(A)),j(d,"height",g(s))}),Pe("innerWidth",u=>C(A,u)),Pe("innerHeight",u=>C(s,u)),V(t,d),ie()}function Gt(t,e){let r=p(e,"origin",8),a=p(e,"styles",8,void 0),n=p(e,"particleCount",8,50),o=p(e,"force",8,15),i=p(e,"angle",24,()=>-90),_=p(e,"spread",8,360),f=p(e,"onCreate",8,void 0),h=p(e,"onUpdate",8,void 0);Bt(t,{get particleCount(){return n()},get origin(){return r()},get force(){return o()},get spread(){return _()},get angle(){return i()},get styles(){return a()},get onCreate(){return f()},get onUpdate(){return h()},$$events:{completed(l){Ct.call(this,e,l)}}})}var Yt=B('<!> <p class="answer svelte-10lw60z"> </p>',1),Ut=B('<button class="svelte-10lw60z">Submit</button> <button class="svelte-10lw60z">Reset</button>',1),Jt=B('<p class="svelte-10lw60z">Your score has been submitted. You may close this window now.</p>'),Xt=B('<div class="body svelte-10lw60z"><div class="mute svelte-10lw60z"><h2 class="svelte-10lw60z">Motor Pool Test</h2> <div class="questions svelte-10lw60z"></div> <div class="buttons svelte-10lw60z"><!> <!> <!></div> <p class="score svelte-10lw60z"> </p></div></div> <div class="messagePopover svelte-10lw60z" name="messagePopover" id="messagePopover" popover="manual"> <div class="arrow svelte-10lw60z"><button popovertarget="messagePopover" popovertargetaction="hide" class="svelte-10lw60z">Close</button></div></div>',1);function er(t,e){se(e,!1);const r=async()=>{C(a,!1),await gt(),C(a,!0)};let a=N(!1),n=N(new Array(H.length).fill(null)),o=N(0),i=H.length,_=i*.8,f=N(!1),h=null,l=[],c=N("");function A(){h=S(),fetch("/API/checkMPTestEligibility.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:h})}).then(m=>m.json()).then(m=>{m.eligible?console.log("Eligible"):console.log("Not eligible")})}Oe(()=>{A()});function s(){h=S(),fetch("/API/submitMPTestFail.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:h})})}function d(){C(o,0);for(let m=0;m<g(n).length;m++){let D=g(n)[m],K=H[m].correctAnswer,ce=H[m].index,de=H[m].manualSection,L=document.getElementById(ce);D===K?(L.classList.add("correct-answer"),L.classList.remove("wrong-answer"),ht(o)):(l.push({manualSection:de}),L.classList.remove("correct-answer"),L.classList.add("wrong-answer"))}if(g(o)>=_&&(r(),C(f,!0)),g(o)<_){s();var y=document.getElementById("messagePopover");C(c,g(c)+"You did not pass the test. Please try again after studying manual sections:");for(let m=0;m<l.length;m++)C(c,g(c)+(`
`+l[m].manualSection+","));return y.setAttribute("data-content",g(c)),y.showPopover(),g(c)}}function u(){document.querySelectorAll("div.wrong-answer").forEach(D=>{D.classList.remove("wrong-answer")}),C(n,new Array(H.length).fill(null)),C(o,0),document.querySelectorAll("div.correct-answer").forEach(D=>{D.classList.remove("correct-answer")}),C(c,"")}function S(){let y=JSON.parse(localStorage.getItem("bcdash-userData"));if(y)return console.log(y),h=y.id,h;console.error("User data not found or invalid")}Re(()=>g(o),()=>{g(o)}),Ne(),oe();var b=Xt(),k=ae(b),P=E(k),x=T(E(P),2);ze(x,5,()=>H,Fe,(y,m,D)=>{let K=()=>g(m).question,ce=()=>g(m).choices,de=()=>g(m).correctAnswer;var L=Yt(),we=ae(L);Et(we,{get question(){return K()},get choices(){return ce()},index:D,get selectedAnswer(){return g(n)[D]},onselectAnswer:Ve=>he(n,g(n)[D]=Ve.detail)});var ye=T(we,2),He=E(ye);q(ye),Z(()=>G(He,`Answer: ${de()??""}`)),V(y,L)}),q(x);var v=T(x,2),w=E(v);{var le=y=>{var m=Ut(),D=ae(m),K=T(D,2);Q("click",D,d),Q("click",K,u),V(y,m)};ve(w,y=>{g(f)||y(le)})}var z=T(w,2);{var I=y=>{var m=Jt();V(y,m)};ve(z,y=>{g(f)&&y(I)})}var $=T(z,2);{var Y=y=>{Gt(y,{origin:[window.innerWidth/2,window.innerHeight],angle:-90,spread:35,force:35})};ve($,y=>{g(a)&&y(Y)})}q(v);var O=T(v,2),U=E(O);q(O),q(P),q(k);var ee=T(k,2),J=E(ee),X=T(J),te=E(X);q(X),q(ee),Z(()=>{G(U,`Score: ${g(o)??""} of ${i??""}`),G(J,`${g(c)??""} `)}),Q("click",te,u),V(t,b),ie()}export{er as component};
